name: trigger fe build

on:
  workflow_dispatch:
    inputs:
      choice:
        description: environmment
        type: choice
        default: dev
        options:
          - dev
          - qa
          - prod
jobs:
  build:
    runs-on: ubuntu-22.04
    steps:
      - name: trigger dev repo to build image
        uses: peter-evans/repository-dispatch@v1
        with:
         token: ${{ secrets.TOKEN_TO_TRIGGER }}
         repository: Devops-MLOps/real-time-chat-application
         event-type: fe-event
         client-payload: '{"env": "${{github.event.inputs.choice}}"}'